//- =============================================
//- TechZone Multi-Level Category Menu
//- Hover: parent → child → grandchild (flyout)
//- =============================================

//- Mixin đệ quy: render submenu con (cấp 2+)
mixin renderSubmenu(items, baseUrl, paramName)
  ul.tz-submenu
    each item in items
      li.tz-submenu-item
        a.tz-submenu-link(href=`${baseUrl}?${paramName}=${item.slug}`)
          span= item.title
          if item.children && item.children.length > 0
            i.fas.fa-chevron-right.tz-submenu-arrow
        if item.children && item.children.length > 0
          +renderSubmenu(item.children, baseUrl, paramName)

//- Mixin chính: render danh mục cha với dropdown
//- Dùng cho cả productCategories và articleCategories
mixin categoryMenu(categories, baseUrl, paramName)
  each cat in categories
    li.nav-item.tz-dropdown
      a.nav-link.font-weight-500(href=`${baseUrl}?${paramName}=${cat.slug}`)
        = cat.title
        if cat.children && cat.children.length > 0
          i.fas.fa-caret-down.ml-1(class="tz-auto-0749db")
      if cat.children && cat.children.length > 0
        +renderSubmenu(cat.children, baseUrl, paramName)
